name: PR Checker - markdown

on:
  pull_request:
    branches: [main]
  workflow_dispatch:

jobs:
  markdown-lint-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Run Markdown Lint
        uses: avto-dev/markdown-lint@v1
        with:
          config: ".markdownlint.yaml"

      - name: Run Markdown Lint
        uses: docker://avtodev/markdown-lint:v1
        with:
          config: ".markdownlint.yaml"

      - name: Run markdownlint
        # Official Docker image of markdownlint-cli
        # https://www.npmjs.com/package/markdownlint-cli
        uses: docker://ghcr.io/igorshubovych/markdownlint-cli:latest
        with:
          entrypoint: /usr/local/bin/markdownlint
          args: "--config .markdownlint.yaml --output markdownlint-report.txt **/*.md"

  markdown-link-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      - name: Run Markdown Link Checker
        uses: gaurav-nelson/github-action-markdown-link-check@v1
